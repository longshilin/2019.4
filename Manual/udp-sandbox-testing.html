<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Testing your game in the UDP sandbox - Unity 手册">
<title>Testing your game in the UDP sandbox - Unity 手册</title>
<meta name="description" content="Before you can release your game for the first time and repack for the app stores, test your game in the sandbox environment. You must:">
<meta property="og:description" content="Before you can release your game for the first time and repack for the app stores, test your game in the sandbox environment. You must:">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'udp-sandbox-testing';
      if(!page) page = 'index';
      var version = '2019.4';
      var docs_versions = [{version: '2021.1',version_string: '2021.1',supported: true},{version: '2020.2',version_string: '2020.2',supported: true},{version: '2020.1',version_string: '2020.1',supported: true},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: true},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2019.4/Manual/udp-sandbox-testing.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2019.4/Manual/udp-sandbox-testing.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2019.4/Manual/udp-sandbox-testing.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2019.4/Manual/udp-sandbox-testing.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2019.4/Manual/udp-sandbox-testing.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2019.4/Manual/udp-sandbox-testing.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2019.4/Manual/udp-sandbox-testing.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2019.4/Documentation/Manual/udp-sandbox-testing.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.4</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/udp-sandbox-testing.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/udp-sandbox-testing.html">2020.2</a></li>
<li class="supported"><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/udp-sandbox-testing.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/udp-sandbox-testing.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/udp-sandbox-testing.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/udp-sandbox-testing.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/udp-sandbox-testing.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/udp-sandbox-testing.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/udp-sandbox-testing.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/udp-sandbox-testing.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/udp-sandbox-testing.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/udp-sandbox-testing.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/udp-sandbox-testing.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/udp-sandbox-testing.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/udp-sandbox-testing.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/udp-sandbox-testing.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2019.4/Documentation/Manual/udp-sandbox-testing.html">English</a></li>
<li><a data-lang="cn" href="/cn/2019.4/Manual/udp-sandbox-testing.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2019.4/Manual/udp-sandbox-testing.html">日本語</a></li>
<li><a data-lang="es" href="/es/2019.4/Manual/udp-sandbox-testing.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2019.4/Manual/udp-sandbox-testing.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2019.4/Manual/udp-sandbox-testing.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2019.4</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/udp-sandbox-testing.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/udp-sandbox-testing.html">2020.2</a></li>
<li class="supported"><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/udp-sandbox-testing.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/udp-sandbox-testing.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/udp-sandbox-testing.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/udp-sandbox-testing.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/udp-sandbox-testing.html">2019.1</a></li>
<li class="supported"><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/udp-sandbox-testing.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/udp-sandbox-testing.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/udp-sandbox-testing.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/udp-sandbox-testing.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/udp-sandbox-testing.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/udp-sandbox-testing.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/udp-sandbox-testing.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/udp-sandbox-testing.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/udp-sandbox-testing.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity 用户手册 (2019.4 LTS)</a></li>
<li><a href="UnityServices.html">Unity 服务</a></li>
<li><a href="udp.html">Unity Distribution Portal</a></li>
<li>Testing your game in the UDP sandbox</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="udp-implementing-iap.html"></a></span><div class="tip">Implementing in-app purchases with the UDP package</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="udp-managing-and-publishing.html"></a></span><div class="tip">Managing and publishing your game on the UDP console</div>
</div>
</div></div>
<h1>Testing your game in the UDP sandbox</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Before you can release your game for the first time and repack for the app stores, test your game in the sandbox environment. You must:</p>

<ul>
<li>Initialize UDP in the sandbox at least once (for all games)

<ul>
<li>Call the Initialize() method</li>
</ul>
</li>
<li>Complete an IAP purchase in the sandbox at least once (if your game has IAPs)

<ul>
<li>Call the Purchase() method</li>
</ul>
</li>
</ul>

<p><strong>Note</strong>: This is to ensure that the UDP implementation works for a simple and nominal case. Unity recommends you test your UDP methods more extensively.
After your first release, you do not need to repeat the sandbox testing to release new revisions of your game on UDP.</p>

<p>To test your game in the sandbox:</p>

<ol>
<li>In the UDP Settings window, go to the UDP Sandbox Test accounts section and create login credentials for the sandbox environment.<br>If you have already added credentials in the UDP console, you can use those.</li>
<li>Run your game on an Android device or emulator.<br>When your game launches it should call the Initialize method, which displays the login screen automatically in the sandbox environment. If you didn’t call Initialize on game launch, trigger the necessary step to call Initialize.

<ol>
<li>Enter your login credentials for the sandbox test account.<br>This is all that’s required to check that the game initializes.</li>
<li>For IAP games, make a purchase to test your IAP purchases.<br>No real transaction is made in the sandbox environment.</li>
</ol>
</li>
</ol>

<p>When each test is successful:</p>

<ul>
<li>The sandbox environment displays a toast notification</li>
<li>The UDP sandbox updates the <a href="udp-reference.html#sandbox">Sandbox Testing</a> section of the UDP console to display a green <strong>Tested</strong> status for the corresponding test</li>
</ul>

<p>When all required tests are successful, the left panel of the Game Info page displays a green tick to confirm you’ve cleared sandbox testing. You can now complete any remaining steps on your Game Info page to release your first revision and submit it to stores.</p>

<p>The sandbox login credentials only work with the generic UDP build for the sandbox environment. When UDP repacks your build for the real app stores, UDP removes the sandbox environment and login page, and patches in the store-specific SDK. The store-specific SDK in the build ensures IAP transactions work with that store’s payment system.</p>

<p><strong>Note</strong>: Sandbox mode also supports server-side validation.</p>

<h2>Troubleshooting</h2>

<p>Check your UDP and/or IAP implementation if any IAP-related issues arise, such as: </p>

<ul>
<li>No login screen appearing</li>
<li>No IAP products retrieved</li>
<li>Unresponsive purchase buttons</li>
<li>Inability to complete a purchase</li>
</ul>

<p>For further troubleshooting information, check the <a href="https://docs.unity3d.com/Packages/com.unity.purchasing.udp@2.1/manual/index.html">UDP Package documentation</a> or contact the UDP support team via the “Contact Support” link on the UDP Console.</p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="udp-implementing-iap.html"></a></span><div class="tip">Implementing in-app purchases with the UDP package</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="udp-managing-and-publishing.html"></a></span><div class="tip">Managing and publishing your game on the UDP console</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">版权所有 © 2020 Unity Technologies. Publication 2019.4</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
